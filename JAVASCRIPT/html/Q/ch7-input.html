<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>글 작성</title>
</head>
<body>
    <form action="#" method="get">
        <fieldset>
            <legend>게시글 작성</legend>
            <label for="name">작성자</label>
            <input type="text" name="name" id="name"><br>
            <label for="title">글 제목</label>
            <input type="text" name="title" id="title"><br>
            <label for="content">글 내용</label><br>
            <textarea name="content" id="content" cols="30" rows="10"></textarea><br>
            <input type="button" value="게시물 등록" onclick="input()"><input type="button" value="리스트로 돌아가기" onclick="returnList()">
        </fieldset>
    </form>

    <script>
        var list = JSON.parse(localStorage.getItem('list'));

        window.onload = function(){
            if(list == undefined){
                localStorage.setItem('list', JSON.stringify([]));
                list=[];
            }
        }

        function Board(name, title, content, regDate){
            this.name = name;
            this.title = title;
            this.content = content;
            this.regDate = regDate;
        }

        function input(){
            var name = document.getElementById('name').value;
            var title = document.getElementById('title').value;
            var content = document.getElementById('content').value;
            var regDate = new Date().toLocaleString();
            var board = new Board(name, title, content, regDate);
            list.push(board);
            localStorage.setItem('list', JSON.stringify(list));


            returnList();
        }

        function returnList(){
            location.href = './ch7-list.html';
        }
    </script>
</body>
</html>